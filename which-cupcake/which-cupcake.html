<head>
    <title>which-cupcake</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/animate.css/3.3.0/animate.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.css">
    <script src="//use.typekit.net/zjr2ygg.js"></script>
	<script>try{Typekit.load();}catch(e){}</script>
</head>


<body>
	<div class = "container">
		<header>

			<div class="row">
				<div class="col-lg-6">
	  				<a href="/"><h1 class="logo-title"><!-- <span class="rainbow"> -->Which cupcake?<!-- </span> --></h1></a>
				<div class="eight columns">
	  				<h1>Which cupcake?</h1>
	  			</div>
	  			<div class="four columns btn-ask-column">
	  				<button class="ask" data-modal-template="askModal">
	                	<i class="fa fa-plus" style="padding-right:5px;"></i>Ask
	            	</button>
	            	{{>askModal}}
	  			</div>
			</div>
		</header>
		
		<div>
			<button class="btn-ask btn">
        		<i class="fa fa-plus" style="padding-right:5px;"></i>Ask
    		</button>
		</div>
		{{#basicTabs name="homepageTabs" tabs=tabs}}
    	{{#tabContent slug="openpolls"}}
				<ul>
			    {{#each polls}}
			    	{{#if isOpen status}}
			      	{{> poll}}
			    	{{/if}}
			    {{/each}}
			  </ul>
			{{/tabContent}}

			{{#tabContent slug="closedpolls"}}
				<ul>
			    {{#each polls}}
			    	{{#unless isOpen status}}
			      	{{> poll}}
			    	{{/unless}} 
			    {{/each}}
			  </ul>
			{{/tabContent}}
		{{/basicTabs}}
	</div>

        {{> voteForm}}
</body>

<template name="poll">
	<li class="row card">
		<div class="card-content">
			<div class="question-title">
				<h2 class="question">{{text}}</h2>
			</div>
	  		
	  		<div class="content">
		  		<div>
			  		<h5><span class="askedBy">{{askedBy}}</span> asked this question on <span class="time">{{createdAt}}</span></h5>
			  		<h5>Status:{{status}}</h5>
					<h5>There are {{timeLeft}} left to vote</h5>
		  		</div>
				
			  	<div class="option-row row">
					<div class="option col-sm-6 vote1">
						<a>
							<div class="option-img">
								<img class="img-responsive" src="http://bit.ly/1JdBFga">
							</div>
							<div class="option-text">
								<h4>{{option1}}</h4>
						  		<!-- <button class="vote1"> Vote </button> -->
							</div>
						</a>
				  	</div>
				  	<div class="option col-sm-6 vote2">
				  		<a>
					  		<div class="option-img">
								<img class="img-responsive" src="http://bit.ly/1KhLjzU">
							</div>
					  		<div class="option-text">
					  			<h4>{{option2}}</h4>
					  			<!-- <button class="vote2"> Vote </button> -->
					  		</div>
				  		</a>
				  	</div>
			  	</div>
	  		</div>
		</div>
	</li>
</template>

<template name="askModal">  
  {{#if activeModal}}
    <form class="addPoll">
      <input type="text" name="text" placeholder="Type to add new poll" />
      <input type="number" name="duration" placeholder="Set a duration for your poll"/> <p>minutes</p>
      <br>
      <p>Option 1</p><input type="file" name="option1" class="imageUpload1">
      {{#if option1}}
      	<a href="{{option1}}"> <img src = {{option1}} height="100%" width="100" alt=""></a>
      {{/if}}
      <p>Option 2</p><input type="file" name="option2" class="imageUpload2">
      {{#if option2}}
      	<img src = {{option2}} height="100%" width="100">
      {{/if}}
      <p>Asked By</p><input type="text" name="askedBy"/> 
      <input type="submit" value="Submit">
    </form>
  {{/if}}
</template>

<template name="voteForm">
  <form>
    <input type="text" name="pollId">
    <input type="text" name="decision">
    <input type="submit" value="Vote">
  </form>
</template>

